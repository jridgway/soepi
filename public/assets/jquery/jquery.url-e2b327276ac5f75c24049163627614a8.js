// JQuery URL Parser
// Written by Mark Perkins, mark@allmarkedup.com
// License: http://unlicense.org/ (i.e. do what you want with it!)
jQuery.url=function(){var a={},b={},c={url:window.location,strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},d=function(){str=decodeURI(c.url);var a=c.parser[c.strictMode?"strict":"loose"].exec(str),b={},d=14;while(d--)b[c.key[d]]=a[d]||"";return b[c.q.name]={},b[c.key[12]].replace(c.q.parser,function(a,d,e){d&&(b[c.q.name][d]=e)}),b},e=function(a){return jQuery.isEmptyObject(b)&&g(),a=="base"?b.port!==null&&b.port!==""?b.protocol+"://"+b.host+":"+b.port+"/":b.protocol+"://"+b.host+"/":b[a]===""?null:b[a]},f=function(a){return jQuery.isEmptyObject(b)&&g(),b.queryKey[a]===null?null:b.queryKey[a]},g=function(){b=d(),h()},h=function(){var c=b.path;a=[],a=b.path.length==1?{}:(c.charAt(c.length-1)=="/"?c.substring(1,c.length-1):path=c.substring(1)).split("/")};return{setMode:function(a){return c.strictMode=a=="strict"?!0:!1,this},setUrl:function(a){return c.url=a===undefined?window.location:a,g(),this},segment:function(c){return jQuery.isEmptyObject(b)&&g(),c===undefined?a.length:a[c]===""||a[c]===undefined?null:a[c]},attr:e,param:f}}()