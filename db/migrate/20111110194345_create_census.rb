class CreateCensus < ActiveRecord::Migration
  def change
    create_table :censuses do |t| 
      t.integer :year, :null => false
    end
    
    create_table :census_geos do |t| 
      t.integer :census_id, :null => false
      @@census_geos.each do |name,type,length|
        case type 
          when 'Text' then t.string name.downcase.strip, :limit => length
          when 'Number (Long)' then t.decimal name.downcase.strip, :scale => 2, :precision => 12
          else raise 'Column type not expected'
        end
      end
    end
    
    create_table :census_geo_profiles do |t| 
      @@census_geo_profiles.each do |name,type,length|
        case type 
          when 'Text' then t.string name.downcase.strip, :limit => length
          when 'Number (Long)' then t.decimal name.downcase.strip, :scale => 2, :precision => 12
          else raise 'Column type not expected'
        end
      end
    end
  end
  
  @@census_geos = [
      ['FILEID', 'Text', 6],
      ['STUSAB', 'Text', 2],
      ['SUMLEV', 'Text', 3],
      ['GEOCOMP', 'Text', 2],
      ['CHARITER', 'Text', 3],
      ['CIFSN', 'Text', 2],
      ['LOGRECNO', 'Text', 3],
      ['REGION', 'Text', 1],
      ['DIVISION', 'Text', 1],
      ['STATE', 'Text', 2],
      ['COUNTY', 'Text', 3],
      ['COUNTYCC', 'Text', 2],
      ['COUNTYSC', 'Text', 2],
      ['COUSUB', 'Text', 3],
      ['COUSUBCC', 'Text', 2],
      ['COUSUBSC', 'Text', 2],
      ['PLACE', 'Text', 3],
      ['PLACECC', 'Text', 2],
      ['PLACESC', 'Text', 2],
      ['TRACT', 'Text', 6],
      ['BLKGRP', 'Text', 1],
      ['BLOCK', 'Text', 4],
      ['IUC', 'Text', 2],
      ['CONCIT', 'Text', 3],
      ['CONCITCC', 'Text', 2],
      ['CONCITSC', 'Text', 2],
      ['AIANHH', 'Text', 4],
      ['AIANHHFP', 'Text', 3],
      ['AIANHHCC', 'Text', 2],
      ['AIHHTLI', 'Text', 1],
      ['AITSCE', 'Text', 3],
      ['AITS', 'Text', 3],
      ['AITSCC', 'Text', 2],
      ['TTRACT', 'Text', 6],
      ['TBLKGRP', 'Text', 1],
      ['ANRC', 'Text', 3],
      ['ANRCCC', 'Text', 2],
      ['CBSA', 'Text', 3],
      ['CBSASC', 'Text', 2],
      ['METDIV', 'Text', 3],
      ['CSA', 'Text', 3],
      ['NECTA', 'Text', 3],
      ['NECTASC', 'Text', 2],
      ['NECTADIV', 'Text', 3],
      ['CNECTA', 'Text', 3],
      ['CBSAPCI', 'Text', 1],
      ['NECTAPCI', 'Text', 1],
      ['UA', 'Text', 3],
      ['UASC', 'Text', 2],
      ['UATYPE', 'Text', 1],
      ['UR', 'Text', 1],
      ['CD', 'Text', 2],
      ['SLDU', 'Text', 3],
      ['SLDL', 'Text', 3],
      ['VTD', 'Text', 6],
      ['VTDI', 'Text', 1],
      ['RESERVE2', 'Text', 3],
      ['ZCTA5', 'Text', 3],
      ['SUBMCD', 'Text', 3],
      ['SUBMCDCC', 'Text', 2],
      ['SDELM', 'Text', 3],
      ['SDSEC', 'Text', 3],
      ['SDUNI', 'Text', 3],
      ['AREALAND', 'Text', 14],
      ['AREAWATR', 'Text', 14],
      ['NAME', 'Text', '90'],
      ['FUNCSTAT', 'Text', 1],
      ['GCUNI', 'Text', 1],
      ['POP100', 'Text', '9'],
      ['HU100', 'Text', '9'],
      ['INTPTLAT', 'Text', 11],
      ['INTPTLON', 'Text', 12],
      ['LSADC', 'Text', 2],
      ['PARTFLAG', 'Text', 1],
      ['RESERVE3', 'Text', 6],
      ['UGA', 'Text', 3],
      ['STATENS', 'Text', 8],
      ['COUNTYNS', 'Text', 8],
      ['COUSUBNS', 'Text', 8],
      ['PLACENS', 'Text', 8],
      ['CONCITNS', 'Text', 8],
      ['AIANHHNS', 'Text', 8],
      ['AITSNS', 'Text', 8],
      ['ANRCNS', 'Text', 8],
      ['SUBMCDNS', 'Text', 8],
      ['CD113', 'Text', 2],
      ['CD114', 'Text', 2],
      ['CD115', 'Text', 2],
      ['SLDU2', 'Text', 3],
      ['SLDU3', 'Text', 3],
      ['SLDU4', 'Text', 3],
      ['SLDL2', 'Text', 3],
      ['SLDL3', 'Text', 3],
      ['SLDL4', 'Text', 3],
      ['AIANHHSC', 'Text', 2],
      ['CSASC', 'Text', 2],
      ['CNECTASC', 'Text', 2],
      ['MEMI', 'Text', 1],
      ['NMEMI', 'Text', 1],
      ['PUMA', 'Text', 3],
      ['RESERVED', 'Text', 18]
    ]
    
  @@census_geo_profiles = [
      ['FILEID', 'Text', 6],
      ['STUSAB', 'Text', 4],
      ['CHARITER', 'Text', 4],
      ['CIFSN', 'Text', 4],
      ['LOGRECNO', 'Text', 7],
      ['DPSF0010001', 'Number (Long)', 4],
      ['DPSF0010002', 'Number (Long)', 4],
      ['DPSF0010003', 'Number (Long)', 4],
      ['DPSF0010004', 'Number (Long)', 4],
      ['DPSF0010005', 'Number (Long)', 4],
      ['DPSF0010006', 'Number (Long)', 4],
      ['DPSF0010007', 'Number (Long)', 4],
      ['DPSF0010008', 'Number (Long)', 4],
      ['DPSF0010009', 'Number (Long)', 4],
      ['DPSF0010010', 'Number (Long)', 4],
      ['DPSF0010011', 'Number (Long)', 4],
      ['DPSF0010012', 'Number (Long)', 4],
      ['DPSF0010013', 'Number (Long)', 4],
      ['DPSF0010014', 'Number (Long)', 4],
      ['DPSF0010015', 'Number (Long)', 4],
      ['DPSF0010016', 'Number (Long)', 4],
      ['DPSF0010017', 'Number (Long)', 4],
      ['DPSF0010018', 'Number (Long)', 4],
      ['DPSF0010019', 'Number (Long)', 4],
      ['DPSF0010020', 'Number (Long)', 4],
      ['DPSF0010021', 'Number (Long)', 4],
      ['DPSF0010022', 'Number (Long)', 4],
      ['DPSF0010023', 'Number (Long)', 4],
      ['DPSF0010024', 'Number (Long)', 4],
      ['DPSF0010025', 'Number (Long)', 4],
      ['DPSF0010026', 'Number (Long)', 4],
      ['DPSF0010027', 'Number (Long)', 4],
      ['DPSF0010028', 'Number (Long)', 4],
      ['DPSF0010029', 'Number (Long)', 4],
      ['DPSF0010030', 'Number (Long)', 4],
      ['DPSF0010031', 'Number (Long)', 4],
      ['DPSF0010032', 'Number (Long)', 4],
      ['DPSF0010033', 'Number (Long)', 4],
      ['DPSF0010034', 'Number (Long)', 4],
      ['DPSF0010035', 'Number (Long)', 4],
      ['DPSF0010036', 'Number (Long)', 4],
      ['DPSF0010037', 'Number (Long)', 4],
      ['DPSF0010038', 'Number (Long)', 4],
      ['DPSF0010039', 'Number (Long)', 4],
      ['DPSF0010040', 'Number (Long)', 4],
      ['DPSF0010041', 'Number (Long)', 4],
      ['DPSF0010042', 'Number (Long)', 4],
      ['DPSF0010043', 'Number (Long)', 4],
      ['DPSF0010044', 'Number (Long)', 4],
      ['DPSF0010045', 'Number (Long)', 4],
      ['DPSF0010046', 'Number (Long)', 4],
      ['DPSF0010047', 'Number (Long)', 4],
      ['DPSF0010048', 'Number (Long)', 4],
      ['DPSF0010049', 'Number (Long)', 4],
      ['DPSF0010050', 'Number (Long)', 4],
      ['DPSF0010051', 'Number (Long)', 4],
      ['DPSF0010052', 'Number (Long)', 4],
      ['DPSF0010053', 'Number (Long)', 4],
      ['DPSF0010054', 'Number (Long)', 4],
      ['DPSF0010055', 'Number (Long)', 4],
      ['DPSF0010056', 'Number (Long)', 4],
      ['DPSF0010057', 'Number (Long)', 4],
      ['DPSF0020001', 'Number (Long)', 4],
      ['DPSF0020002', 'Number (Long)', 4],
      ['DPSF0020003', 'Number (Long)', 4],
      ['DPSF0030001', 'Number (Long)', 4],
      ['DPSF0030002', 'Number (Long)', 4],
      ['DPSF0030003', 'Number (Long)', 4],
      ['DPSF0040001', 'Number (Long)', 4],
      ['DPSF0040002', 'Number (Long)', 4],
      ['DPSF0040003', 'Number (Long)', 4],
      ['DPSF0050001', 'Number (Long)', 4],
      ['DPSF0050002', 'Number (Long)', 4],
      ['DPSF0050003', 'Number (Long)', 4],
      ['DPSF0060001', 'Number (Long)', 4],
      ['DPSF0060002', 'Number (Long)', 4],
      ['DPSF0060003', 'Number (Long)', 4],
      ['DPSF0070001', 'Number (Long)', 4],
      ['DPSF0070002', 'Number (Long)', 4],
      ['DPSF0070003', 'Number (Long)', 4],
      ['DPSF0080001', 'Number (Long)', 4],
      ['DPSF0080002', 'Number (Long)', 4],
      ['DPSF0080003', 'Number (Long)', 4],
      ['DPSF0080004', 'Number (Long)', 4],
      ['DPSF0080005', 'Number (Long)', 4],
      ['DPSF0080006', 'Number (Long)', 4],
      ['DPSF0080007', 'Number (Long)', 4],
      ['DPSF0080008', 'Number (Long)', 4],
      ['DPSF0080009', 'Number (Long)', 4],
      ['DPSF0080010', 'Number (Long)', 4],
      ['DPSF0080011', 'Number (Long)', 4],
      ['DPSF0080012', 'Number (Long)', 4],
      ['DPSF0080013', 'Number (Long)', 4],
      ['DPSF0080014', 'Number (Long)', 4],
      ['DPSF0080015', 'Number (Long)', 4],
      ['DPSF0080016', 'Number (Long)', 4],
      ['DPSF0080017', 'Number (Long)', 4],
      ['DPSF0080018', 'Number (Long)', 4],
      ['DPSF0080019', 'Number (Long)', 4],
      ['DPSF0080020', 'Number (Long)', 4],
      ['DPSF0080021', 'Number (Long)', 4],
      ['DPSF0080022', 'Number (Long)', 4],
      ['DPSF0080023', 'Number (Long)', 4],
      ['DPSF0080024', 'Number (Long)', 4],
      ['DPSF0090001', 'Number (Long)', 4],
      ['DPSF0090002', 'Number (Long)', 4],
      ['DPSF0090003', 'Number (Long)', 4],
      ['DPSF0090004', 'Number (Long)', 4],
      ['DPSF0090005', 'Number (Long)', 4],
      ['DPSF0090006', 'Number (Long)', 4],
      ['DPSF0100001', 'Number (Long)', 4],
      ['DPSF0100002', 'Number (Long)', 4],
      ['DPSF0100003', 'Number (Long)', 4],
      ['DPSF0100004', 'Number (Long)', 4],
      ['DPSF0100005', 'Number (Long)', 4],
      ['DPSF0100006', 'Number (Long)', 4],
      ['DPSF0100007', 'Number (Long)', 4],
      ['DPSF0110001', 'Number (Long)', 4],
      ['DPSF0110002', 'Number (Long)', 4],
      ['DPSF0110003', 'Number (Long)', 4],
      ['DPSF0110004', 'Number (Long)', 4],
      ['DPSF0110005', 'Number (Long)', 4],
      ['DPSF0110006', 'Number (Long)', 4],
      ['DPSF0110007', 'Number (Long)', 4],
      ['DPSF0110008', 'Number (Long)', 4],
      ['DPSF0110009', 'Number (Long)', 4],
      ['DPSF0110010', 'Number (Long)', 4],
      ['DPSF0110011', 'Number (Long)', 4],
      ['DPSF0110012', 'Number (Long)', 4],
      ['DPSF0110013', 'Number (Long)', 4],
      ['DPSF0110014', 'Number (Long)', 4],
      ['DPSF0110015', 'Number (Long)', 4],
      ['DPSF0110016', 'Number (Long)', 4],
      ['DPSF0110017', 'Number (Long)', 4],
      ['DPSF0120001', 'Number (Long)', 4],
      ['DPSF0120002', 'Number (Long)', 4],
      ['DPSF0120003', 'Number (Long)', 4],
      ['DPSF0120004', 'Number (Long)', 4],
      ['DPSF0120005', 'Number (Long)', 4],
      ['DPSF0120006', 'Number (Long)', 4],
      ['DPSF0120007', 'Number (Long)', 4],
      ['DPSF0120008', 'Number (Long)', 4],
      ['DPSF0120009', 'Number (Long)', 4],
      ['DPSF0120010', 'Number (Long)', 4],
      ['DPSF0120011', 'Number (Long)', 4],
      ['DPSF0120012', 'Number (Long)', 4],
      ['DPSF0120013', 'Number (Long)', 4],
      ['DPSF0120014', 'Number (Long)', 4],
      ['DPSF0120015', 'Number (Long)', 4],
      ['DPSF0120016', 'Number (Long)', 4],
      ['DPSF0120017', 'Number (Long)', 4],
      ['DPSF0120018', 'Number (Long)', 4],
      ['DPSF0120019', 'Number (Long)', 4],
      ['DPSF0120020', 'Number (Long)', 4],
      ['DPSF0130001', 'Number (Long)', 4],
      ['DPSF0130002', 'Number (Long)', 4],
      ['DPSF0130003', 'Number (Long)', 4],
      ['DPSF0130004', 'Number (Long)', 4],
      ['DPSF0130005', 'Number (Long)', 4],
      ['DPSF0130006', 'Number (Long)', 4],
      ['DPSF0130007', 'Number (Long)', 4],
      ['DPSF0130008', 'Number (Long)', 4],
      ['DPSF0130009', 'Number (Long)', 4],
      ['DPSF0130010', 'Number (Long)', 4],
      ['DPSF0130011', 'Number (Long)', 4],
      ['DPSF0130012', 'Number (Long)', 4],
      ['DPSF0130013', 'Number (Long)', 4],
      ['DPSF0130014', 'Number (Long)', 4],
      ['DPSF0130015', 'Number (Long)', 4],
      ['DPSF0140001', 'Number (Long)', 4],
      ['DPSF0150001', 'Number (Long)', 4],
      ['DPSF0160001', 'Number (Long)', 4],
      ['DPSF0170001', 'Number (Long)', 4],
      ['DPSF0180001', 'Number (Long)', 4],
      ['DPSF0180002', 'Number (Long)', 4],
      ['DPSF0180003', 'Number (Long)', 4],
      ['DPSF0180004', 'Number (Long)', 4],
      ['DPSF0180005', 'Number (Long)', 4],
      ['DPSF0180006', 'Number (Long)', 4],
      ['DPSF0180007', 'Number (Long)', 4],
      ['DPSF0180008', 'Number (Long)', 4],
      ['DPSF0180009', 'Number (Long)', 4],
      ['DPSF0190001', 'Number (Long)', 4],
      ['DPSF0200001', 'Number (Long)', 4],
      ['DPSF0210001', 'Number (Long)', 4],
      ['DPSF0210002', 'Number (Long)', 4],
      ['DPSF0210003', 'Number (Long)', 4],
      ['DPSF0220001', 'Number (Long)', 4],
      ['DPSF0220002', 'Number (Long)', 4],
      ['DPSF0230001', 'Number (Long)', 4],
      ['DPSF0230002', 'Number (Long)', 4]
    ]
end
